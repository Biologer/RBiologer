% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/01_utils.R
\name{add_utm_centroid}
\alias{add_utm_centroid}
\title{Calculate Coarsened Centroids for Observations}
\usage{
add_utm_centroid(data, cell_size = 10000)
}
\arguments{
\item{data}{A data.table or an sf object containing point geometry (sfc_POINT).
If a data.table, it must contain 'decimalLatitude' and 'decimalLongitude' columns.}

\item{cell_size}{Integer. The size of the square grid cell in meters used for coarsening.
Defaults to 10000 (10 km).}

\item{lat_col}{Character string. The name of the latitude column in the data.table.
Defaults to "decimalLatitude". (Note: The function hardcodes "decimalLatitude"
internally, but this argument is kept for standard signature compliance.)}

\item{lon_col}{Character string. The name of the longitude column in the data.table.
Defaults to "decimalLongitude". (Note: The function hardcodes "decimalLongitude"
internally, but this argument is kept for standard signature compliance.)}
}
\value{
The original data object (as a data.table) with two new columns:
'mgrs10k_centroid_lon' and 'mgrs10k_centroid_lat', containing the WGS84 coordinates
of the calculated centroid.
}
\description{
Calculates the centroid coordinates of a regular square grid cell (e.g., 10x10 km)
containing each observation's coordinates. This is primarily used for anonymizing
geographically restricted data. The function handles both data.table objects
(with standard latitude/longitude columns) and sf point objects (by extracting
coordinates from the geometry column).
}
\details{
The function projects the coordinates to the appropriate UTM zone (Universal
Transverse Mercator), snaps them to the grid defined by 'cell_size', and then
transforms the cell center back to WGS84 (EPSG:4326) latitude and longitude.
}
\keyword{anonymization}
\keyword{coordinates}
\keyword{spatial}
