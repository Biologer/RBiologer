% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/04_download.R
\name{get_parent_taxa}
\alias{get_parent_taxa}
\title{Extract and Map Parent Taxa Ranks to New Columns}
\usage{
get_parent_taxa(data_table)
}
\arguments{
\item{data_table}{A \code{data.table} object. It must contain the columns:
\itemize{
\item \code{ancestors_names} (character): The comma-separated string of parent taxa names.
\item \code{name} (character): The name of the taxon (used for rank lookup).
\item \code{rank} (character): The taxonomic rank of the taxon (used for new column headers).
}}
}
\value{
A \code{data.table} object that is a copy of the input, augmented with
new columns. These new columns are named after the unique taxonomic ranks
found (e.g., \code{kingdom}, \code{phylum}), and are populated with the
corresponding ancestor name from the \code{ancestors_names} string.
Temporary columns (\code{RowID}, \code{TaxaName_*}) are removed.
}
\description{
Takes a data.table containing taxonomic data with comma-separated ancestry
strings and maps the ancestor names to their official rank (e.g., 'kingdom',
'phylum') as new columns in the data.table. This process is optimized for
performance using data.table's \code{tstrsplit}, \code{melt}, and \code{dcast}.
}
