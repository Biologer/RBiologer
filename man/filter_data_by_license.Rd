% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/05_biologer.R
\name{filter_data_by_license}
\alias{filter_data_by_license}
\title{Filter and Standardize Data Based on License Restrictions}
\usage{
filter_data_by_license(data = NULL, verbose = FALSE)
}
\arguments{
\item{data}{A \code{data.table} or \code{data.frame} containing observation records. If
\code{NULL}, the full dataset is loaded via \code{open_data()}. The data must contain 'year',
'month', 'day', 'mgrs10k', 'decimalLongitude', 'decimalLatitude', 'dcterms:accessRights',
and 'dcterms:license' columns.}

\item{verbose}{Logical. If \code{TRUE}, messages about automatic data loading are printed.
Defaults to \code{FALSE}.}
}
\value{
A \code{data.table} containing only the records that are publicly available (open
access or embargo passed), with coordinates coarsened for geographically restricted data.
}
\description{
This function processes observation data, applying license-based filters and
coordinate coarsening to meet data access requirements. It removes fully closed data,
coarsens coordinates for geographically limited data, and manages a 3-year time embargo
by updating licenses or removing observations that are still restricted.
}
\details{
The function performs three main actions:
\enumerate{
\item \strong{Removal:} Data with \code{dcterms:accessRights} set to "Closed" are permanently removed.
\item \strong{Coarsening:} Data with "CC BY-NC-SA 4.0 (limited coordinates)" are spatially
protected by replacing 'decimalLongitude' and 'decimalLatitude' with the centroid of the
MGRS 10x10 km grid cell, and setting \code{coordinateUncertaintyInMeters} to
7071m. \strong{Requires the \code{mgrs} package.}
\item \strong{Embargo Management:} Data with "CC BY-SA 4.0 (closed for 3 years)" are checked against
the current date. If 3 years have passed, the access rights and license are updated to "CC BY-SA 4.0".
If the embargo is ongoing, the records are permanently removed.
}
}
\examples{
\dontrun{
# Assuming 'my_data' is a data.table loaded from a Biologer server
processed_data <- filter_data_by_license(data = my_data)

# Process the full dataset with verbose output
full_processed_data <- filter_data_by_license(verbose = TRUE)
}
}
