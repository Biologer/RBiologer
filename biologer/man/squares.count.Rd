% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/biologer.R
\name{squares.count}
\alias{squares.count}
\title{Count Observations per EEA Grid Square}
\usage{
squares.count(
  fill = "taxon.name",
  grid_type = c("1km", "10km"),
  square_id = NULL,
  df
)
}
\arguments{
\item{fill}{Character. Column name to group and count rows by. Default is \code{"taxon.name"}.
If you set \code{fill = "none"}, it won't group by any column and will count total
observations per square.}

\item{grid_type}{Which grid layer to use: \code{"1km"} or \code{"10km"}. Default is \code{"1km"}.}

\item{square_id}{Optional vector of square IDs (e.g., \code{"10kmE459N247"}) to filter.
If not provided, all squares in the chosen grid layer will be included.}

\item{df}{A data frame containing \strong{at least} \code{longitude}, \code{latitude}, and
any column specified by \code{fill}.}
}
\value{
A \code{data.frame} with counts for each square (identified by \code{cellcode})
and a \strong{TOTAL} row. Columns:
\itemize{
\item The grouping column specified by \code{fill} (or "ALL" if \code{fill = "none"}).
\item \code{cellcode} (the grid square ID or "TOTAL").
\item \code{count} (the number of observations).
}
}
\description{
Counts the number of observations that fall within each EEA grid square (1×1 km or 10×10 km).
}
\examples{
\dontrun{
# Example data with 2 observations:
obs <- data.frame(
  taxon.name = c("Species A", "Species B"),
  longitude  = c(16.0, 15.5),
  latitude   = c(45.8, 45.9)
)

# Count how many observations of each taxon fall into each 10km square
# that you specify:
grid_counts <- squares.count(
  fill      = "taxon.name",
  grid_type = "10km",
  square_id = c("10kmE459N247", "10kmE460N244"),
  df        = obs
)

# If you want to count all squares in the 1km grid, do:
all_1km_counts <- squares.count(
  fill      = "taxon.name",
  grid_type = "1km",
  square_id = NULL,   # all squares
  df        = obs
)

# Or if you just want total counts per square (no grouping),
# use fill = "none":
all_10km_nogroup <- squares.count(
  fill      = "none",
  grid_type = "10km",
  df        = obs
)
}
}
